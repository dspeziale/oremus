{% extends "base.html" %}

{% block content %}
<div class="row">
	<!-- Card Santo del Giorno -->
	<div class="col-md-12 mb-4">
		<div class="card card-saint" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
			<div class="card-body text-white">
				{% if santi %}
					{% for santo in santi %}
						{% if santo.tipo == 'principale' %}
						<div class="saint-main">
							<i class="fas fa-cross fa-3x mb-3"></i>
							<h2>{{ santo.nome_santo }}</h2>
							<p class="lead">Santo del Giorno</p>
							{% if santo.martirologio %}
							<p class="small mt-3">{{ santo.martirologio }}</p>
							{% endif %}
						</div>
						{% endif %}
					{% endfor %}
				{% else %}
				<div class="saint-main">
					<i class="fas fa-cross fa-3x mb-3"></i>
					<h2>Nessun Santo</h2>
					<p class="lead">Dati non disponibili per oggi</p>
				</div>
				{% endif %}
			</div>
		</div>
	</div>
</div>

<div class="row">
	<!-- Lodi Mattutine -->
	<div class="col-md-6 mb-4">
		<div class="card">
			<div class="card-header bg-info">
				<h4 class="card-title text-white mb-0">
					<i class="fas fa-sun mr-2"></i>Lodi Mattutine
				</h4>
			</div>
			<div class="card-body">
				{% if lodi %}
					<div class="liturgy-section">
						{% if lodi.titolo %}
						<h5>{{ lodi.titolo }}</h5>
						{% endif %}

						{% if lodi.inno %}
						<div class="mb-3">
							<small class="text-muted">Inno</small>
							<p class="text-justify">{{ lodi.inno }}</p>
						</div>
						{% endif %}

						{% if lodi.lettura_breve %}
						<div class="mb-3">
							<small class="text-muted">Lettura Breve</small>
							<p class="text-justify">{{ lodi.lettura_breve }}</p>
						</div>
						{% endif %}

						{% if lodi.responsorio_breve %}
						<div class="mb-3">
							<small class="text-muted">Responsorio Breve</small>
							<p class="text-justify">{{ lodi.responsorio_breve }}</p>
						</div>
						{% endif %}

						{% if lodi.cantico_finale %}
						<div class="mb-3">
							<small class="text-muted">Cantico Finale</small>
							<p class="text-justify">{{ lodi.cantico_finale }}</p>
						</div>
						{% endif %}

						<a href="{{ url_for('lodi') }}" class="btn btn-sm btn-info btn-rounded">
							<i class="fas fa-book-open mr-1"></i>Leggi Completo
						</a>
					</div>
				{% else %}
				<div class="alert alert-info" role="alert">
					<i class="fas fa-info-circle mr-2"></i>
					<strong>Nessun dato disponibile</strong> per le Lodi Mattutine di oggi.
				</div>
				{% endif %}
			</div>
		</div>
	</div>

	<!-- Vespri -->
	<div class="col-md-6 mb-4">
		<div class="card">
			<div class="card-header bg-warning">
				<h4 class="card-title text-white mb-0">
					<i class="fas fa-moon mr-2"></i>Vespri
				</h4>
			</div>
			<div class="card-body">
				{% if vespri %}
					<div class="liturgy-section">
						{% if vespri.titolo %}
						<h5>{{ vespri.titolo }}</h5>
						{% endif %}

						{% if vespri.inno %}
						<div class="mb-3">
							<small class="text-muted">Inno</small>
							<p class="text-justify">{{ vespri.inno }}</p>
						</div>
						{% endif %}

						{% if vespri.lettura_breve %}
						<div class="mb-3">
							<small class="text-muted">Lettura Breve</small>
							<p class="text-justify">{{ vespri.lettura_breve }}</p>
						</div>
						{% endif %}

						{% if vespri.responsorio_breve %}
						<div class="mb-3">
							<small class="text-muted">Responsorio Breve</small>
							<p class="text-justify">{{ vespri.responsorio_breve }}</p>
						</div>
						{% endif %}

						{% if vespri.cantico_finale %}
						<div class="mb-3">
							<small class="text-muted">Cantico Finale</small>
							<p class="text-justify">{{ vespri.cantico_finale }}</p>
						</div>
						{% endif %}

						<a href="{{ url_for('vespri') }}" class="btn btn-sm btn-warning btn-rounded">
							<i class="fas fa-book-open mr-1"></i>Leggi Completo
						</a>
					</div>
				{% else %}
				<div class="alert alert-info" role="alert">
					<i class="fas fa-info-circle mr-2"></i>
					<strong>Nessun dato disponibile</strong> per i Vespri di oggi.
				</div>
				{% endif %}
			</div>
		</div>
	</div>
</div>

<!-- Data e Giorno -->
{% if giorno %}
<div class="row">
	<div class="col-md-12">
		<div class="card">
			<div class="card-header">
				<h4 class="card-title">
					<i class="fas fa-calendar mr-2"></i>Informazioni Giorno
				</h4>
			</div>
			<div class="card-body">
				<div class="row">
					<div class="col-md-6">
						<h6>Data</h6>
						<p><strong>{{ giorno.data }}</strong></p>
					</div>
					<div class="col-md-6">
						<h6>Giorno della Settimana</h6>
						<p><strong>{{ giorno.giorno_settimana }}</strong></p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endif %}

<!-- Altri Santi del Giorno -->
{% if santi|length > 1 %}
<div class="row">
	<div class="col-md-12">
		<div class="card">
			<div class="card-header">
				<h4 class="card-title">
					<i class="fas fa-users mr-2"></i>Altri Santi
				</h4>
			</div>
			<div class="card-body">
				<div class="row">
					{% for santo in santi %}
						{% if santo.tipo != 'principale' %}
						<div class="col-md-6 mb-3">
							<div class="saint-card p-3 border rounded">
								<h6>{{ santo.nome_santo }}</h6>
								{% if santo.martirologio %}
								<p class="text-muted small">{{ santo.martirologio[:150] }}...</p>
								{% endif %}
							</div>
						</div>
						{% endif %}
					{% endfor %}
				</div>
			</div>
		</div>
	</div>
</div>
{% endif %}

<style>
	.card-saint {
		text-align: center;
		border: none;
	}

	.saint-main {
		padding: 40px 20px;
	}

	.card-saint h2 {
		font-size: 2.5rem;
		font-weight: 700;
		margin: 10px 0;
	}

	.psalm-item {
		border-left: 3px solid #667eea;
		padding-left: 15px;
	}

	.saint-card {
		transition: all 0.3s ease;
	}

	.saint-card:hover {
		box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
		transform: translateY(-2px);
	}

	.card {
		border: none;
		box-shadow: 0 1px 3px rgba(0,0,0,0.1);
		transition: all 0.3s ease;
	}

	.card:hover {
		box-shadow: 0 4px 15px rgba(0,0,0,0.15);
	}

	.card-header {
		border: none;
		padding: 20px;
	}

	.liturgy-section {
		line-height: 1.8;
	}

	.btn-rounded {
		border-radius: 20px;
		padding: 6px 16px;
	}

	.text-justify {
		text-align: justify;
	}

	.bg-light {
		background-color: #f8f9fa !important;
	}
</style>
{% endblock %}